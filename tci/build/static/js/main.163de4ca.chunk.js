(this.webpackJsonptci=this.webpackJsonptci||[]).push([[0],{163:function(e,t,a){e.exports=a(278)},168:function(e,t,a){},169:function(e,t,a){},278:function(e,t,a){"use strict";a.r(t);var l=a(1),n=a.n(l),r=a(48),c=a.n(r),o=(a(168),a(141)),s=a(143),i=a(144),m=a(157),u=a(159),h=a(295),d=a(300),p=a(297),E=a(290),f=a(296),g=a(286),v=a(287),y=a(145),C=a(293),b=a(292),w=a(288),k=a(289);a(169);var x=function(e,t,a){var l=.228*e,n=.463*e,r=2.893*e,c=t/l,o=0,s=0,i=[];console.log("Starting Marsh model for ".concat(e," kg individual with ").concat(t," mg bolus.")),console.log("V1: ".concat(l,"; V2: ").concat(n,"; V3: ").concat(r)),i.push({t:0,c1:c,c2:o,c3:s});for(var m=1;m<1200;m++){var u=a*e*1/60/1e3,h=c*l,d=o*n,p=s*r,E=h-h*Math.pow(.881,1/60),f=h-h*Math.pow(.888,1/60),g=h-h*Math.pow(.958,1/60),v=d-d*Math.pow(.945,1/60),y=p-p*Math.pow(.9967,1/60);c=(h-E-f-g+u+v+y)/l,o=(d-v+f)/n,s=(p-y+g)/r,i.push({t:m,c1:c,c2:o,c3:s})}for(var C=0,b=i;C<b.length;C++){var w=b[C];console.log(w.t,w.c1,w.c2,w.c3)}return i},T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var l;return Object(s.a)(this,a),(l=t.call(this,e)).state={wgt:70,bol:100,rate:100,c1:[],c2:[],c3:[],xTickValues:[0]},l.wgt=n.a.createRef(),l.bol=n.a.createRef(),l.rate=n.a.createRef(),l}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.loadGraph()}},{key:"formChange",value:function(e){this.setState({wgt:this.wgt.current.value,bol:this.bol.current.value,rate:this.rate.current.value}),this.loadGraph()}},{key:"loadGraph",value:function(){var e,t=x(this.state.wgt,this.state.bol,this.state.rate),a=[],l=[],n=[],r=Object(o.a)(t);try{for(r.s();!(e=r.n()).done;){var c=e.value;a.push({x:c.t,y:c.c1}),l.push({x:c.t,y:c.c2}),n.push({x:c.t,y:c.c3})}}catch(u){r.e(u)}finally{r.f()}for(var s=Math.floor(a.length/60),i=[0],m=0;m<s;m++)i.push(60*(m+1));this.setState({c1:a,c2:l,c3:n,xTickValues:i})}},{key:"render",value:function(){return n.a.createElement(g.a,{fluid:!0},n.a.createElement(v.a,null,n.a.createElement(y.a,{className:"mt-3"},n.a.createElement(C.a,{variant:"secondary"},"This is a simple tool to model drug compartment concentration. Select a PK model, then fill in the required parameters and press Update."),n.a.createElement(C.a,{variant:"danger"},"IMPORTANT: This tool is actively under development and has not been validated for clinical use."))),n.a.createElement(v.a,null,n.a.createElement(y.a,{xs:3,className:"pt-3"},n.a.createElement(b.a,null,n.a.createElement(b.a.Group,null,n.a.createElement(w.a,null,n.a.createElement(w.a.Prepend,null,n.a.createElement(w.a.Text,{style:{width:75}},"Model")),n.a.createElement(b.a.Control,{as:"select"},n.a.createElement("option",null,"Marsh (propofol)"),n.a.createElement("option",null,"Minto (remifentanil)"),n.a.createElement("option",null,"Custom")))),n.a.createElement(b.a.Group,null,n.a.createElement(w.a,null,n.a.createElement(w.a.Prepend,null,n.a.createElement(w.a.Text,{style:{width:75}},"Weight")),n.a.createElement(b.a.Control,{type:"text",ref:this.wgt,defaultValue:this.state.wgt}),n.a.createElement(w.a.Append,null,n.a.createElement(w.a.Text,null,"kg")))),n.a.createElement(b.a.Group,null,n.a.createElement(w.a,null,n.a.createElement(w.a.Prepend,null,n.a.createElement(w.a.Text,{style:{width:75}},"Bolus")),n.a.createElement(b.a.Control,{type:"text",ref:this.bol,defaultValue:this.state.bol}),n.a.createElement(w.a.Append,null,n.a.createElement(w.a.Text,null,"mg")))),n.a.createElement(b.a.Group,null,n.a.createElement(w.a,null,n.a.createElement(w.a.Prepend,null,n.a.createElement(w.a.Text,{style:{width:75}},"Rate")),n.a.createElement(b.a.Control,{type:"text",ref:this.rate,defaultValue:this.state.rate}),n.a.createElement(w.a.Append,null,n.a.createElement(w.a.Text,null,"mcg/kg/min")))),n.a.createElement(b.a.Group,null,n.a.createElement(k.a,{onClick:this.formChange.bind(this)},"Update"))),n.a.createElement("p",null,"\xa9 2020 David Olmstead")),n.a.createElement(y.a,{xs:9},n.a.createElement(h.a,{padding:{top:10,bottom:50,left:50,right:10},maxDomain:{y:8}},n.a.createElement(d.a,{label:"Time (s)",style:{tickLabels:{fontSize:5},grid:{stroke:"#AAAAAA"}},tickValues:this.state.xTickValues}),n.a.createElement(d.a,{dependentAxis:!0,label:"Conc (mcg/mL)",style:{tickLabels:{fontSize:5}},axisLabelComponent:n.a.createElement(p.a,{dy:-10})}),n.a.createElement(E.a,{style:{data:{stroke:"#000000"}},data:this.state.c1}),n.a.createElement(E.a,{style:{data:{stroke:"#888888"}},data:this.state.c2}),n.a.createElement(E.a,{style:{data:{stroke:"#CCCCCC"}},data:this.state.c3}),n.a.createElement(f.a,{x:250,y:50,colorScale:["#000000","#888888","#CCCCCC"],style:{border:{fill:"#FFF",stroke:"#000"},labels:{fontSize:10}},data:[{name:"C1 (Plasma)"},{name:"C2 (Vessel-Rich)"},{name:"C3 (Vessel-Poor)"}]})))))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(277);c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[163,1,2]]]);
//# sourceMappingURL=main.163de4ca.chunk.js.map